generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  email        String         @unique @db.VarChar(255)
  password     String         @db.VarChar(255)
  name         String         @db.VarChar(100)
  created_at   DateTime?      @default(now()) @db.Timestamp(6)
  id           String         @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  todos        todos[]
  transactions transactions[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model transactions {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id    String    @db.Uuid
  type       String    @db.VarChar(10)
  amount     Decimal   @db.Decimal(12, 2)
  note       String?
  repeat     String    @default("once") @db.VarChar(10)
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  updated_at DateTime? @default(now()) @db.Timestamptz(6)
  date       DateTime  @default(dbgenerated("CURRENT_DATE")) @db.Timestamptz(6)
  users      users     @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model todos {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id    String   @db.Uuid
  title      String   @db.VarChar(255)
  note       String?
  completed  Boolean  @default(false)
  repeat     String   @default("once") @db.VarChar(20)
  created_at DateTime @default(now()) @db.Timestamptz(6)
  updated_at DateTime @default(now()) @db.Timestamptz(6)
  users      users    @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}
